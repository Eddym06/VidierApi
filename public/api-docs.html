<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VidierApi - Documentaci√≥n de la API</title>
    <link rel="stylesheet" href="/css/styles.css?v=3.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Estilos espec√≠ficos para la documentaci√≥n */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: transparent;
            min-height: 100vh;
        }

        .docs-header {
            background: rgba(10, 14, 39, 0.8);
            backdrop-filter: blur(10px);
            color: var(--text-primary);
            padding: 20px 40px;
            display: flex;
            align-items: center;
            gap: 20px;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .docs-header h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .docs-header p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin: 0;
            margin-left: auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            height: 60px;
            width: auto;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--gradient-3);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--text-primary);
        }
        
        .content {
            padding: 40px;
        }
        
        .endpoint {
            background: var(--bg-card);
            border-radius: 0.75rem;
            margin-bottom: 20px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(20px);
            transition: all 0.3s;
        }
        
        .endpoint:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: rgba(255, 255, 255, 0.2);
        }
        
        .method-url {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.03);
            border-bottom: 1px solid var(--border);
        }
        
        .method {
            padding: 6px 15px;
            border-radius: 0.5rem;
            font-weight: 700;
            font-size: 0.85rem;
            color: white;
            min-width: 80px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .method.get { background: var(--primary); }
        .method.post { background: var(--success); }
        .method.delete { background: var(--error); }
        .method.put { background: #f59e0b; }
        
        .url {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .description {
            color: var(--text-secondary);
            padding: 15px 20px;
            margin: 0;
            font-size: 0.95rem;
        }
        
        .params, .response {
            background: rgba(0, 0, 0, 0.3);
            color: #e2e8f0;
            padding: 20px;
            margin: 0;
            border-top: 1px solid var(--border);
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        
        .params h4, .response h4 {
            margin-bottom: 10px;
            color: var(--primary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        pre {
            margin: 0;
            background: transparent;
            color: inherit;
        }
        
        code {
            font-family: 'Courier New', monospace;
        }
        
        .section-title {
            color: var(--text-primary);
            font-size: 1.8rem;
            margin: 40px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
            font-weight: 600;
        }
        
        .badge {
            display: inline-block;
            padding: 2px 8px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-right: 8px;
            vertical-align: middle;
            border: 1px solid var(--border);
        }
        
        .note {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid var(--primary);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 0.5rem 0.5rem 0;
            color: var(--text-primary);
        }
        
        .footer {
            background: transparent;
            padding: 40px;
            text-align: center;
            color: var(--text-secondary);
            border-top: 1px solid var(--border);
            margin-top: 40px;
        }
        
        /* Specific overrides for the n8n section */
        #n8n-integration {
            background: rgba(99, 102, 241, 0.1) !important;
            border: 2px solid var(--secondary) !important;
            border-radius: 0.75rem;
            color: var(--text-primary);
        }

        @media (max-width: 768px) {
            .docs-header { flex-direction: column; text-align: center; }
            .content { padding: 20px; }
            .method-url { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-gradient"></div>

    <div class="container">
        <div class="docs-header">
            <div class="logo">
                <img src="/logo.png" alt="VidierApi" class="logo-icon">
                <span class="logo-text">VidierApi</span>
            </div>
            <nav class="nav">
                <a href="/" class="nav-link">Editor</a>
                <a href="/api/docs" class="nav-link" style="color: var(--text-primary);">üìö API Docs</a>
                <a href="/api/health" class="nav-link">Status</a>
            </nav>
        </div>
        
        <div class="content">
            <h2 class="section-title">üöÄ Inicio R√°pido</h2>
            <p>VidierApi es una API para generar v√≠deos din√°micos a partir de especificaciones JSON. Puedes crear v√≠deos con im√°genes, audio, texto, efectos y transiciones.</p>
            
            <div class="note">
                <strong>üí° Flujo b√°sico:</strong> Env√≠a un POST a <code>/api/render</code> ‚Üí Obt√©n un <code>jobId</code> ‚Üí Monitorea con <code>/api/status/{jobId}</code> ‚Üí Descarga con <code>/api/download/{jobId}</code>
            </div>
            
            <h2 class="section-title">üìã Endpoints</h2>
            
            <!-- POST /api/render -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method post">POST</span>
                    <span class="url">/api/render</span>
                </div>
                <p class="description">Crea un nuevo trabajo de renderizado de v√≠deo</p>
                <div class="params">
                    <h4>üì• Body (JSON):</h4>
                    <pre><code>{
  "config": {
    "width": 1920,
    "height": 1080,
    "fps": 30
  },
  "assets": [
    {
      "type": "image",
      "src": "https://example.com/image.jpg",
      "start": 0,
      "duration": 5
    }
  ]
}</code></pre>
                </div>
                <div class="response">
                    <h4>‚úÖ Respuesta (200):</h4>
                    <pre><code>{
  "success": true,
  "jobId": "1234567890_abc123",
  "message": "Render job queued successfully"
}</code></pre>
                </div>
            </div>
            
            <!-- GET /api/status/:jobId -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method get">GET</span>
                    <span class="url">/api/status/{jobId}</span>
                </div>
                <p class="description">Consulta el estado de un trabajo de renderizado</p>
                <p><span class="badge">queued</span><span class="badge">processing</span><span class="badge">completed</span><span class="badge">failed</span></p>
                <div class="response">
                    <h4>‚úÖ Respuesta (200):</h4>
                    <pre><code>{
  "success": true,
  "job": {
    "jobId": "1234567890_abc123",
    "status": "processing",
    "progress": 45,
    "message": "Rendering video..."
  }
}</code></pre>
                </div>
            </div>
            
            <!-- GET /api/download/:jobId -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method get">GET</span>
                    <span class="url">/api/download/{jobId}</span>
                </div>
                <p class="description">Descarga el v√≠deo renderizado (solo cuando status = "completed")</p>
                <div class="response">
                    <h4>‚úÖ Respuesta:</h4>
                    <p>Archivo de v√≠deo MP4 para descargar</p>
                </div>
            </div>
            
            <!-- DELETE /api/cancel/:jobId -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method delete">DELETE</span>
                    <span class="url">/api/cancel/{jobId}</span>
                </div>
                <p class="description">Cancela un trabajo en cola o procesando</p>
                <div class="response">
                    <h4>‚úÖ Respuesta (200):</h4>
                    <pre><code>{
  "success": true,
  "message": "Job cancelled successfully"
}</code></pre>
                </div>
            </div>
            
            <!-- GET /api/templates -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method get">GET</span>
                    <span class="url">/api/templates</span>
                </div>
                <p class="description">Lista todas las plantillas disponibles</p>
                <div class="response">
                    <h4>‚úÖ Respuesta (200):</h4>
                    <pre><code>{
  "success": true,
  "templates": [
    {
      "id": "social-post",
      "description": "Formato vertical para redes sociales",
      "config": { "width": 1080, "height": 1920 }
    }
  ]
}</code></pre>
                </div>
            </div>
            
            <!-- GET /api/examples -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method get">GET</span>
                    <span class="url">/api/examples</span>
                </div>
                <p class="description">Obtiene ejemplos de especificaciones completas</p>
                <div class="response">
                    <h4>‚úÖ Respuesta (200):</h4>
                    <pre><code>{
  "success": true,
  "examples": [
    {
      "name": "1. V√≠deo b√°sico",
      "content": { /* JSON completo */ }
    }
  ]
}</code></pre>
                </div>
            </div>
            
            <!-- POST /api/validate -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method post">POST</span>
                    <span class="url">/api/validate</span>
                </div>
                <p class="description">Valida una especificaci√≥n sin renderizar</p>
                <div class="response">
                    <h4>‚úÖ Respuesta (200):</h4>
                    <pre><code>{
  "success": true,
  "message": "Configuration is valid"
}</code></pre>
                </div>
            </div>
            
            <!-- GET /api/health -->
            <div class="endpoint">
                <div class="method-url">
                    <span class="method get">GET</span>
                    <span class="url">/api/health</span>
                </div>
                <p class="description">Health check del servidor</p>
                <div class="response">
                    <h4>‚úÖ Respuesta (200):</h4>
                    <pre><code>{
  "success": true,
  "status": "healthy",
  "timestamp": "2024-12-21T10:00:00Z",
  "version": "1.0.0"
}</code></pre>
                </div>
            </div>
            
            <h2 class="section-title">üìñ Estructura de Especificaciones</h2>
            
            <div class="note">
                <strong>üí° Tip:</strong> VidierApi combina FFmpeg con una interfaz JSON simple para crear v√≠deos profesionales program√°ticamente.
            </div>
            
            <h3 style="color: var(--primary); margin-top: 30px;">üé¨ Formatos Sociales (TikTok/Reels/Shorts)</h3>
            <p>Usa el campo <code>format</code> para configurar autom√°ticamente el tama√±o seg√∫n la plataforma:</p>
            <div class="params">
                <pre><code>{
  "config": {
    "format": "9:16"  // 1080x1920 (Vertical)
    // Opciones: "16:9" (YouTube), "1:1" (Cuadrado), "4:5" (Instagram)
  },
  "assets": [
    {
      "type": "image",
      "src": "model.jpg",
      "duration": 10,
      "effect": "kenburns"
    }
  ],
  "audio": {
    "src": "music.mp3",
    "volume": 0.8
  }
}</code></pre>
            </div>
            
            <h3 style="color: var(--primary); margin-top: 30px;">üé• Clips de V√≠deo y NLE</h3>
            <p>Combina clips de v√≠deo e im√°genes con transiciones autom√°ticas:</p>
            <div class="params">
                <pre><code>{
  "clips": [
    { "type": "video", "src": "intro.mp4", "duration": 5 },
    { "type": "image", "src": "photo.jpg", "duration": 3 }
  ],
  "transition": { 
    "type": "fade", 
    "duration": 0.5 
  }
}</code></pre>
            </div>
            
            <h3 style="color: var(--primary); margin-top: 30px;">üéß Control de Audio Profesional</h3>
            <p>Control total sobre volumen, fade in/out y mezcla:</p>
            <div class="params">
                <pre><code>{
  "audio": {
    "src": "background_music.mp3",
    "fadeIn": 2,     // Segundos de fade in
    "fadeOut": 3,    // Segundos de fade out
    "volume": 0.8    // 80% volumen
  }
}</code></pre>
            </div>
            
            <h3 style="color: var(--primary); margin-top: 30px;">üé® Color Grading Cinem√°tico</h3>
            <p>Aplica filtros de color instant√°neos o ajustes manuales:</p>
            <div class="params">
                <pre><code>{
  "colorGrading": {
    "filter": "vintage",  // bw, sepia, vintage, high-contrast
    "contrast": 1.1,
    "saturation": 0.85
  }
}</code></pre>
            </div>
            
            <h3 style="color: var(--primary); margin-top: 30px;">üìù Texto y Subt√≠tulos</h3>
            <p>Quema subt√≠tulos SRT o a√±ade texto din√°mico:</p>
            <div class="params">
                <pre><code>{
  "subtitles": {
    "src": "https://example.com/captions.srt",
    "style": "FontSize=24,PrimaryColour=&H00FFFF"
  },
  "overlays": [
    {
      "type": "text",
      "text": "Episodio 1",
      "position": { "x": "center", "y": "bottom" },
      "style": {
        "fontSize": 36,
        "fontColor": "#FFFFFF",
        "fontFamily": "Arial"
      }
    }
  ]
}</code></pre>
            </div>
            
            <h3 style="color: var(--primary); margin-top: 30px;">üíß Marca de Agua (Watermark)</h3>
            <p>Protege tu contenido con logos transparentes:</p>
            <div class="params">
                <pre><code>{
  "watermark": {
    "src": "logo.png",
    "position": "top-right",
    "opacity": 0.5,
    "scale": 0.15
  }
}</code></pre>
            </div>
            
            <h2 class="section-title">‚öôÔ∏è Referencia de Configuraci√≥n</h2>
            
            <h3 style="color: var(--primary); margin-top: 20px;">Config Object</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead>
                    <tr style="background: var(--primary); color: white;">
                        <th style="padding: 12px; text-align: left;">Propiedad</th>
                        <th style="padding: 12px; text-align: left;">Tipo</th>
                        <th style="padding: 12px; text-align: left;">Default</th>
                        <th style="padding: 12px; text-align: left;">Descripci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: rgba(255, 255, 255, 0.05);">
                        <td style="padding: 10px;"><code>format</code></td>
                        <td style="padding: 10px;">string</td>
                        <td style="padding: 10px;">-</td>
                        <td style="padding: 10px;">Preset de aspecto: "16:9", "9:16", "1:1", "4:5"</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>width</code></td>
                        <td style="padding: 10px;">number</td>
                        <td style="padding: 10px;">1920</td>
                        <td style="padding: 10px;">Ancho en p√≠xeles</td>
                    </tr>
                    <tr style="background: rgba(255, 255, 255, 0.05);">
                        <td style="padding: 10px;"><code>height</code></td>
                        <td style="padding: 10px;">number</td>
                        <td style="padding: 10px;">1080</td>
                        <td style="padding: 10px;">Alto en p√≠xeles</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>fps</code></td>
                        <td style="padding: 10px;">number</td>
                        <td style="padding: 10px;">30</td>
                        <td style="padding: 10px;">Fotogramas por segundo</td>
                    </tr>
                    <tr style="background: rgba(255, 255, 255, 0.05);">
                        <td style="padding: 10px;"><code>quality</code></td>
                        <td style="padding: 10px;">string</td>
                        <td style="padding: 10px;">medium</td>
                        <td style="padding: 10px;">Calidad: ultrafast a veryslow</td>
                    </tr>
                </tbody>
            </table>
            
            <h3 style="color: var(--primary); margin-top: 20px;">Clip Object</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead>
                    <tr style="background: var(--primary); color: white;">
                        <th style="padding: 12px; text-align: left;">Propiedad</th>
                        <th style="padding: 12px; text-align: left;">Tipo</th>
                        <th style="padding: 12px; text-align: left;">Default</th>
                        <th style="padding: 12px; text-align: left;">Descripci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: rgba(255, 255, 255, 0.05);">
                        <td style="padding: 10px;"><code>type</code></td>
                        <td style="padding: 10px;">string</td>
                        <td style="padding: 10px;">image</td>
                        <td style="padding: 10px;">"video" o "image"</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>src</code></td>
                        <td style="padding: 10px;">string</td>
                        <td style="padding: 10px;">-</td>
                        <td style="padding: 10px;">URL, Path o Base64</td>
                    </tr>
                    <tr style="background: rgba(255, 255, 255, 0.05);">
                        <td style="padding: 10px;"><code>duration</code></td>
                        <td style="padding: 10px;">number</td>
                        <td style="padding: 10px;">5</td>
                        <td style="padding: 10px;">Duraci√≥n en segundos</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>start</code></td>
                        <td style="padding: 10px;">number</td>
                        <td style="padding: 10px;">0</td>
                        <td style="padding: 10px;">Tiempo de inicio (solo v√≠deo)</td>
                    </tr>
                    <tr style="background: rgba(255, 255, 255, 0.05);">
                        <td style="padding: 10px;"><code>effect</code></td>
                        <td style="padding: 10px;">string</td>
                        <td style="padding: 10px;">none</td>
                        <td style="padding: 10px;">"kenburns" (solo im√°genes)</td>
                    </tr>
                </tbody>
            </table>
            
            <h2 id="n8n-integration" class="section-title" style="background: rgba(99, 102, 241, 0.1); padding: 15px; border: 2px solid var(--secondary); border-radius: 8px;">üîå Integraci√≥n (n8n & Webhooks) ‚¨áÔ∏è AQU√ç ‚¨áÔ∏è</h2>
            <p>VidierApi est√° dise√±ado para automatizaci√≥n:</p>
            <ul style="line-height: 2; margin-left: 20px;">
                <li><strong>Polling:</strong> Consulta <code>GET /api/status/:id</code> cada pocos segundos hasta que el estado sea "completed"</li>
                <li><strong>Webhooks:</strong> (Pr√≥ximamente) Recibe un POST cuando el renderizado termine</li>
            </ul>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <!-- Option 1: HTTP Nodes -->
                <div class="endpoint" style="border-left-color: var(--success); margin-bottom: 0; border: 1px solid var(--border); box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
                    <div style="padding: 20px;">
                        <h4 style="color: var(--success); margin-bottom: 10px; font-size: 1.1rem;">Opci√≥n 1: Nodos HTTP (Est√°ndar)</h4>
                        <p style="font-size: 0.9rem; margin-bottom: 15px; color: var(--text-primary);">
                            Utiliza nodos HTTP est√°ndar de n8n para enviar el trabajo, hacer polling del estado y descargar el resultado. No requiere instalaci√≥n de nodos personalizados.
                        </p>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 10px; border-radius: 4px; border: 1px solid var(--border); margin-bottom: 15px;">
                            <ul style="font-size: 0.85rem; padding-left: 20px; color: var(--text-primary);">
                                <li>POST /render</li>
                                <li>Loop de espera (Wait + IF)</li>
                                <li>GET /status</li>
                                <li>GET /download</li>
                            </ul>
                        </div>
                        <a href="/examples/n8n-workflow-http-polling.json" download class="method" style="background: var(--success); text-decoration: none; display: block; text-align: center; cursor: pointer; font-weight: bold; font-size: 1rem; padding: 12px; border-radius: 4px; transition: all 0.2s; box-shadow: 0 2px 5px rgba(73, 204, 144, 0.3);">
                            üì• DESCARGAR WORKFLOW JSON
                        </a>
                        <details style="margin-top: 15px; border-top: 1px solid var(--border); padding-top: 10px;">
                            <summary style="cursor: pointer; color: var(--primary); font-size: 0.85rem; font-weight: 600;">üëÄ Ver JSON</summary>
                            <pre style="max-height: 200px; overflow: auto; margin-top: 10px; font-size: 0.75rem; background: rgba(0, 0, 0, 0.3); color: var(--text-primary); padding: 10px; border-radius: 4px;"><code>{
  "nodes": [
    {
      "parameters": { "amount": 10 },
      "name": "Esperar Inicio1",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [ 2880, 2368 ]
    },
    {
      "parameters": {
        "url": "=http:/YOUR_SERVER:3002/api/status/{{ $('POST Render Job').first().json.jobId }}"
      },
      "name": "GET Status1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [ 3056, 2368 ]
    },
    {
      "parameters": {
        "conditions": {
          "conditions": [
            {
              "leftValue": "={{ $json.job.status }}",
              "rightValue": "completed",
              "operator": { "type": "string", "operation": "equals" }
            }
          ]
        }
      },
      "name": "¬øCompletado?1",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [ 3232, 2368 ]
    },
    {
      "parameters": {
        "url": "=http://YOUR_SERVER:3002/api/download/{{ $json.job.id }}"
      },
      "name": "GET Download Video1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [ 3440, 2256 ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://YOUR_SERVER:3002/api/render",
        "jsonBody": "={\n  \"image\": {\n    \"src\": \"{{ $json.imagen_url }}\",\n    \"effect\": \"kenburns\"\n  }\n}"
      },
      "name": "POST Render Job",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [ 2704, 2368 ]
    }
  ],
  "connections": {
    "Esperar Inicio1": { "main": [[{ "node": "GET Status1", "type": "main", "index": 0 }]] },
    "GET Status1": { "main": [[{ "node": "¬øCompletado?1", "type": "main", "index": 0 }]] },
    "¬øCompletado?1": { "main": [[{ "node": "GET Download Video1", "type": "main", "index": 0 }]] },
    "POST Render Job": { "main": [[{ "node": "Esperar Inicio1", "type": "main", "index": 0 }]] }
  }
}</code></pre>
                        </details>
                    </div>
                </div>

                <!-- Option 2: Custom Node -->
                <div class="endpoint" style="border-left-color: var(--primary); margin-bottom: 0; border: 1px solid var(--border); box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
                    <div style="padding: 20px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px; font-size: 1.1rem;">Opci√≥n 2: Nodo Personalizado</h4>
                        <p style="font-size: 0.9rem; margin-bottom: 15px; color: var(--text-primary);">
                            Usa el nodo comunitario <code>n8n-nodes-vidierapi</code> para una experiencia simplificada. Maneja la espera y descarga autom√°ticamente.
                        </p>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 10px; border-radius: 4px; border: 1px solid var(--border); margin-bottom: 15px;">
                            <ul style="font-size: 0.85rem; padding-left: 20px; color: var(--text-primary);">
                                <li>Un solo nodo "VidierApi"</li>
                                <li>Configuraci√≥n visual</li>
                                <li>Output binario autom√°tico</li>
                            </ul>
                        </div>
                        <a href="/examples/n8n-workflow-custom-node.json" download class="method" style="background: var(--primary); text-decoration: none; display: block; text-align: center; cursor: pointer; font-weight: bold; font-size: 1rem; padding: 12px; border-radius: 4px; transition: all 0.2s; box-shadow: 0 2px 5px rgba(97, 175, 254, 0.3);">
                            üì• DESCARGAR WORKFLOW JSON
                        </a>
                        <details style="margin-top: 15px; border-top: 1px solid var(--border); padding-top: 10px;">
                            <summary style="cursor: pointer; color: var(--primary); font-size: 0.85rem; font-weight: 600;">üëÄ Ver JSON</summary>
                            <pre style="max-height: 200px; overflow: auto; margin-top: 10px; font-size: 0.75rem; background: rgba(0, 0, 0, 0.3); color: var(--text-primary); padding: 10px; border-radius: 4px;"><code>{
  "nodes": [
    {
      "parameters": {
        "operation": "render",
        "imageSrc": "={{ $json.data }}",
        "audioSrc": "={{ $('Edit Fields2').item.json.audio_url }}",
        "options": {
          "config": {
            "config": { "crf": 28, "fps": 25, "height": 720, "preset": "fast", "width": 1280 }
          },
          "image": {
            "image": { "effect": "kenburns", "zoom": 1.2 }
          }
        }
      },
      "id": "22222222-2222-2222-2222-222222222222",
      "name": "VidierApi",
      "type": "n8n-nodes-vidierapi.vidierApi",
      "typeVersion": 1,
      "position": [ 2704, 2608 ]
    }
  ],
  "connections": {
    "VidierApi": { "main": [ [] ] }
  }
}</code></pre>
                        </details>
                    </div>
                </div>
            </div>
            
            <h3 style="color: var(--primary); margin-top: 20px;">üìã Estructura de Respuestas</h3>
            
            <div class="endpoint" style="border-left-color: var(--success);">
                <h4 style="margin-bottom: 10px;">‚úÖ √âxito (Procesando/Completado)</h4>
                <p style="color: var(--text-secondary); margin-bottom: 10px;">HTTP 200 con detalles del trabajo. El campo <code>status</code> indica el estado actual.</p>
                <div class="response">
                    <pre><code>[
  {
    "success": true,
    "job": {
      "id": "3d48a485-424c-4bfd-a738-2ad8df03f896",
      "status": "completed",   // o "processing"
      "progress": 100,         // 0-100
      "createdAt": "2025-12-21T22:15:49.558Z",
      "updatedAt": "2025-12-21T22:16:05.196Z",
      "error": null,
      "outputUrl": "/api/download/3d48a485-424c-4bfd-a738-2ad8df03f896"
    }
  }
]</code></pre>
                </div>
            </div>
            
            <div class="endpoint" style="border-left-color: var(--error);">
                <h4 style="margin-bottom: 10px;">‚ùå Error L√≥gico (Fallo en Renderizado)</h4>
                <p style="color: var(--text-secondary); margin-bottom: 10px;">HTTP 200 pero el estado del trabajo es "failed" con detalles del error.</p>
                <div class="response">
                    <pre><code>[
  {
    "success": true,
    "job": {
      "id": "3d48a485-424c-4bfd-a738-2ad8df03f896",
      "status": "failed",
      "progress": 95,
      "error": "Render failed: ffmpeg exited with code 1",
      "outputUrl": null
    }
  }
]</code></pre>
                </div>
            </div>
            
            <div class="endpoint" style="border-left-color: #f59e0b;">
                <h4 style="margin-bottom: 10px;">üö´ Error de API (No Encontrado)</h4>
                <p style="color: var(--text-secondary); margin-bottom: 10px;">HTTP 404 cuando el trabajo no existe.</p>
                <div class="response">
                    <pre><code>{
  "success": false,
  "error": "Job not found"
}</code></pre>
                </div>
            </div>
            
        </div>
        
        <div class="footer">
            <p>üé¨ VidierApi v1.0.0 | Documentaci√≥n actualizada</p>
        </div>
    </div>
</body>
</html>
